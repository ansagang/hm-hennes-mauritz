{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0410\\u043D\\u0441\\u0430\\u0440/Documents/FBMD/Front-End/react/hm-hennes-mauritz-team-three/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createContext,useReducer,useEffect}from\"react\";import AppReducer from\"./AppReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={favouritesList:localStorage.getItem('favouritesList')?JSON.parse(localStorage.getItem('favouritesList')):[]};export var GlobalContext=/*#__PURE__*/createContext(initialState);export var GlobalProvider=function GlobalProvider(props){var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem('favouritesList',JSON.stringify(state.favouritesList));},[state]);var addCardToFavouritesList=function addCardToFavouritesList(product){dispatch({type:\"ADD_CARD_TO_FAVOURITES_LIST\",payload:product});};var removeCardFromFavouritesList=function removeCardFromFavouritesList(card_code){dispatch({type:\"REMOVE_CARD_FROM_FAVOURITES_LIST\",payload:card_code});};return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{favouritesList:state.favouritesList,addCardToFavouritesList:addCardToFavouritesList,removeCardFromFavouritesList:removeCardFromFavouritesList},children:props.children});};","map":{"version":3,"sources":["C:/Users/Ансар/Documents/FBMD/Front-End/react/hm-hennes-mauritz-team-three/src/context/GlobalState.jsx"],"names":["createContext","useReducer","useEffect","AppReducer","initialState","favouritesList","localStorage","getItem","JSON","parse","GlobalContext","GlobalProvider","props","state","dispatch","setItem","stringify","addCardToFavouritesList","product","type","payload","removeCardFromFavouritesList","card_code","children"],"mappings":"0NAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,SAApC,KAAqD,OAArD,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,2CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,cAAc,CAAEC,YAAY,CAACC,OAAb,CAAqB,gBAArB,EAAyCC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAX,CAAzC,CAA8F,EAD7F,CAArB,CAKA,MAAO,IAAMG,CAAAA,aAAa,cAAGV,aAAa,CAACI,YAAD,CAAnC,CAEP,MAAO,IAAMO,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CACrC,gBAA0BX,UAAU,CAACE,UAAD,CAAaC,YAAb,CAApC,4CAAOS,KAAP,iBAAcC,QAAd,iBAEAZ,SAAS,CAAC,UAAM,CACZI,YAAY,CAACS,OAAb,CAAqB,gBAArB,CAAuCP,IAAI,CAACQ,SAAL,CAAeH,KAAK,CAACR,cAArB,CAAvC,EACH,CAFQ,CAEN,CAACQ,KAAD,CAFM,CAAT,CAIA,GAAMI,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACC,OAAD,CAAa,CACzCJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,6BAAR,CAAuCC,OAAO,CAAEF,OAAhD,CAAD,CAAR,CACH,CAFD,CAIA,GAAMG,CAAAA,4BAA4B,CAAG,QAA/BA,CAAAA,4BAA+B,CAACC,SAAD,CAAe,CAChDR,QAAQ,CAAC,CAAEK,IAAI,CAAE,kCAAR,CAA4CC,OAAO,CAAEE,SAArD,CAAD,CAAR,CACH,CAFD,CAIA,mBACI,KAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAE,CAAEjB,cAAc,CAAEQ,KAAK,CAACR,cAAxB,CAAwCY,uBAAuB,CAAvBA,uBAAxC,CAAiEI,4BAA4B,CAA5BA,4BAAjE,CAA/B,UACKT,KAAK,CAACW,QADX,EADJ,CAKH,CApBM","sourcesContent":["import { createContext, useReducer, useEffect } from \"react\";\r\nimport AppReducer from \"./AppReducer\";\r\n\r\nconst initialState = {\r\n    favouritesList: localStorage.getItem('favouritesList') ? JSON.parse(localStorage.getItem('favouritesList')) : [],\r\n}\r\n\r\n\r\nexport const GlobalContext = createContext(initialState)\r\n\r\nexport const GlobalProvider = (props) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState)\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('favouritesList', JSON.stringify(state.favouritesList))\r\n    }, [state])\r\n\r\n    const addCardToFavouritesList = (product) => {\r\n        dispatch({ type: \"ADD_CARD_TO_FAVOURITES_LIST\", payload: product })\r\n    }\r\n\r\n    const removeCardFromFavouritesList = (card_code) => {\r\n        dispatch({ type: \"REMOVE_CARD_FROM_FAVOURITES_LIST\", payload: card_code })\r\n    }\r\n\r\n    return (\r\n        <GlobalContext.Provider value={{ favouritesList: state.favouritesList, addCardToFavouritesList, removeCardFromFavouritesList, }}>\r\n            {props.children}\r\n        </GlobalContext.Provider>\r\n    )\r\n}       "]},"metadata":{},"sourceType":"module"}